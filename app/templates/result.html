<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Result</title>
     <style>
        body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
        h2 { margin-bottom: 20px; }
        .result-container { margin-bottom: 30px; }
        h3 { margin-bottom: 10px; color: #333; }
        p.caption { background-color: #f0f0f0; padding: 15px; border: 1px solid #ccc; border-radius: 4px; white-space: pre-wrap; /* Preserve whitespace/newlines */ margin-bottom: 20px;}
        img.generated-image { max-width: 100%; height: auto; display: block; margin-top: 15px; border: 1px solid #ddd; border-radius: 4px; background-color: #eee; } /* Added background for loading */
        .no-image { color: #888; font-style: italic; }
        a.button-link { display: inline-block; margin-top: 20px; text-decoration: none; padding: 10px 15px; background-color: #6c757d; color: white; border-radius: 4px; }
        a.button-link:hover { background-color: #5a6268; }
    </style>
</head>
<body>
    <h2>Generated Result</h2>

    <div class="result-container">
        <h3>Audio Caption:</h3>
        <p class="caption">{{ caption }}</p>
    </div>

    <div class="result-container">
        <h3>Generated Image:</h3>
        {% if image_filename %}
            <img src="{{ url_for('serve_generated_image', filename=image_filename) }}" alt="Generated album cover art based on caption" class="generated-image">
        {% else %}
            <p class="no-image">(Image generation failed or was not performed)</p>
        {% endif %}
    </div>

    <a href="/" class="button-link">Generate another</a>
</body>
</html>